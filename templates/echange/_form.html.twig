{{ form_start(form, {'attr': {'class': 'needs-validation', 'novalidate': 'novalidate'}}) }}
    <div class="row g-3">
        <div class="col-md-12">
            <div class="form-group">
                {{ form_label(form.nameEchange, null, {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.nameEchange, {
                    'attr': {
                        'class': 'form-control'
                    }
                }) }}
                <div class="invalid-feedback">
                    {{ form_errors(form.nameEchange) }}
                </div>
            </div>
        </div>

        <div class="col-md-12">
            <div class="form-group">
                {{ form_label(form.objet, null, {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.objet, {'attr': {'class': 'form-select'}}) }}
                <div class="invalid-feedback">
                    {{ form_errors(form.objet) }}
                </div>
                <small class="form-text text-muted">
                    Sélectionnez l'un de vos objets à échanger
                </small>
            </div>
        </div>

        <div class="col-md-12">
            <div class="form-group">
                {{ form_label(form.message, null, {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.message, {
                    'attr': {
                        'class': 'form-control',
                        'rows': '4'
                    }
                }) }}
                <div class="invalid-feedback">
                    {{ form_errors(form.message) }}
                </div>
                <small class="form-text text-muted">
                    Un message personnalisé augmente vos chances d'acceptation
                </small>
            </div>
        </div>

        {% if form.dateEchange is defined %}
            <div class="col-md-12">
                <div class="form-group">
                    {{ form_label(form.dateEchange, null, {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.dateEchange, {'attr': {'class': 'form-control'}}) }}
                    <div class="invalid-feedback">
                        {{ form_errors(form.dateEchange) }}
                    </div>
                </div>
            </div>
        {% endif %}

        {% if form.statut is defined %}
            <div class="col-md-12">
                <div class="form-group">
                    {{ form_label(form.statut, null, {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.statut, {'attr': {'class': 'form-select'}}) }}
                    <div class="invalid-feedback">
                        {{ form_errors(form.statut) }}
                    </div>
                </div>
            </div>
        {% endif %}
        
        <div class="col-12 mt-4">
            <button type="submit" class="btn btn-primary w-100">
                <i class="fas fa-handshake me-2"></i>
                {{ button_label|default('Proposer l\'échange') }}
            </button>
        </div>
    </div>
{{ form_end(form) }}

<style>
    .form-group {
        margin-bottom: 1.5rem;
    }

    .form-label {
        font-weight: 500;
        margin-bottom: 0.5rem;
        color: #2c3e50;
    }

    .form-control:focus,
    .form-select:focus {
        border-color: #80bdff;
        box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
    }

    .invalid-feedback {
        display: block;
        color: #dc3545;
    }

    .form-text {
        margin-top: 0.25rem;
        color: #6c757d;
    }

    .btn-primary {
        padding: 0.75rem 1.5rem;
        font-weight: 500;
        background-color: #3498db;
        border-color: #3498db;
        transition: all 0.3s ease;
    }

    .btn-primary:hover {
        background-color: #2980b9;
        border-color: #2980b9;
        transform: translateY(-1px);
    }

    .form-select {
        padding: 0.5rem;
        border-radius: 0.25rem;
    }
</style>

<script>
(function () {
    'use strict'
    
    const forms = document.querySelectorAll('.needs-validation')

    Array.from(forms).forEach(form => {
        form.addEventListener('submit', event => {
            if (!form.checkValidity()) {
                event.preventDefault()
                event.stopPropagation()
            }

            form.classList.add('was-validated')
        }, false)
    })
})()
</script>
